{% extends "account/dashboard.html" %}
{% load form_filters %}
{% block content %}
<div class="container mt-4">

    <div class="row justify-content-center">
        <div class="col-md-6">

            <div class="card shadow-sm p-4" style="border-radius: 15px;">
                <h4 class="mb-4 text-center">تغییر رمز عبور</h4>

                <form method="post">
                    {% csrf_token %}

                    <!-- خطاهای کلی فرم -->
                    {% if form.non_field_errors %}
                        <div class="alert alert-danger py-2 text-center mb-3">
                            {% for error in form.non_field_errors %}
                                <div>{{ error }}</div>
                            {% endfor %}
                        </div>
                    {% endif %}

                    <!-- رمز فعلی -->
                    <div class="mb-3">
                        <label class="form-label fw-bold text-end w-100">رمز عبور فعلی</label>
                        {{ form.old_password|add_class:"form-control" }}
                        {% if form.old_password.errors %}
                            <div class="text-danger mt-1">
                                {% for error in form.old_password.errors %}
                                    <div>{{ error }}</div>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>

                    <!-- رمز جدید -->
                    <div class="mb-3">
                        <label class="form-label fw-bold text-end w-100">رمز عبور جدید</label>
                        {{ form.new_password1|add_class:"form-control" }}
                        {% if form.new_password1.errors %}
                            <div class="text-danger mt-1">
                                {% for error in form.new_password1.errors %}
                                    <div>{{ error }}</div>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>

                    <!-- تکرار رمز جدید -->
                    <div class="mb-3">
                        <label class="form-label fw-bold text-end w-100">تکرار رمز عبور جدید</label>
                        {{ form.new_password2|add_class:"form-control" }}
                        {% if form.new_password2.errors %}
                            <div class="text-danger mt-1">
                                {% for error in form.new_password2.errors %}
                                    <div>{{ error }}</div>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>

                    <button type="submit" class="btn btn-primary w-100 mt-2">
                        تغییر رمز عبور
                    </button>
                    <a href="{% url 'account:dashboard' %}" class="btn btn-secondary mt-3 w-100">
                        بازگشت به داشبورد
                    </a>
                </form>

            </div>

        </div>
    </div>

</div>
{% endblock %}

{#{% extends "account/dashboard.html" %}#}
{#{% load form_filters %}#}
{#{% block content %}#}
{#<div class="container mt-4">#}
{##}
{#    <div class="row justify-content-center">#}
{#        <div class="col-md-6">#}
{##}
{#            <div class="card shadow-sm p-4" style="border-radius: 15px;">#}
{#                <h4 class="mb-4 text-center">تغییر رمز عبور</h4>#}
{##}
{#                <form method="post">#}
{#                    {% csrf_token %}#}
{##}
{#                    {% if form.errors %}#}
{#                        <div class="alert alert-danger text-center py-2">#}
{#                            خطا در فرم! لطفاً موارد را بررسی کنید.#}
{#                        </div>#}
{#                    {% endif %}#}
{##}
{#                    <div class="mb-3">#}
{#                        <label class="form-label fw-bold text-end w-100">رمز عبور فعلی</label>#}
{#                        {{ form.old_password|add_class:"form-control" }}#}
{#                    </div>#}
{##}
{#                    <div class="mb-3">#}
{#                        <label class="form-label fw-bold text-end w-100">رمز عبور جدید</label>#}
{#                        {{ form.new_password1|add_class:"form-control" }}#}
{#                    </div>#}
{##}
{#                    <div class="mb-3">#}
{#                        <label class="form-label fw-bold text-end w-100">تکرار رمز عبور جدید</label>#}
{#                        {{ form.new_password2|add_class:"form-control" }}#}
{#                    </div>#}
{##}
{#                    <button type="submit" class="btn btn-primary w-100 mt-2">#}
{#                        تغییر رمز عبور#}
{#                    </button>#}
{#                    <a href="{% url 'account:dashboard' %}" class="btn btn-secondary mt-3 w-100">#}
{#                    بازگشت به داشبورد#}
{#                    </a>#}
{#                </form>#}
{##}
{#            </div>#}
{##}
{#        </div>#}
{#    </div>#}
{##}
{#</div>#}
{#{% endblock %}#}
