{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="container mt-4">

    <!-- Ù‡ÛŒØ±Ùˆ Ø¨Ù†Ø± Ù…Ø¹Ø±ÙÛŒ Ø³Ø§ÛŒØª -->
    <div class="hero-banner mb-5 text-center">
        <div class="hero-content">
            <h1 class="hero-title mb-3">ğŸ® Ø¨Ù‡ safewow Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯!</h1>
            <p class="hero-subtitle mb-4">Ø¨Ù‡ØªØ±ÛŒÙ† Ù¾Ù„ØªÙØ±Ù… Ø¨Ø±Ø§ÛŒ Ø®Ø±ÛŒØ¯ Ùˆ ÙØ±ÙˆØ´ Ø®Ø¯Ù…Ø§Øª Ú¯ÛŒÙ…ÛŒÙ†Ú¯</p>
            <div class="hero-actions">
                <a href="{% url 'core:orders' %}" class="btn btn-hero-primary me-2">ğŸ”¥ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø³ÙØ§Ø±Ø´Ø§Øª</a>
                <a href="{% url 'shop:product_list' %}" class="btn btn-hero-secondary">ğŸ›ï¸ ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ù…Ø­ØµÙˆÙ„Ø§Øª</a>
            </div>
        </div>
    </div>

    <!-- Ø¢Ù…Ø§Ø± Ø³Ø±ÛŒØ¹ -->
    <div class="stats-section mb-5">
        <div class="row g-3">
            <div class="col-md-4">
                <div class="stat-card">
                    <div class="stat-icon">ğŸ“¦</div>
                    <div class="stat-number">{{ orders|length }}+</div>
                    <div class="stat-label">Ø³ÙØ§Ø±Ø´ ÙØ¹Ø§Ù„</div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="stat-card">
                    <div class="stat-icon">ğŸ›’</div>
                    <div class="stat-number">{{ products|length }}+</div>
                    <div class="stat-label">Ù…Ø­ØµÙˆÙ„ Ù…ÙˆØ¬ÙˆØ¯</div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="stat-card">
                    <div class="stat-icon">â­</div>
                    <div class="stat-number">100%</div>
                    <div class="stat-label">Ø±Ø¶Ø§ÛŒØª Ù…Ø´ØªØ±ÛŒØ§Ù†</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Ø§Ø±Ø¯Ø±Ù‡Ø§ÛŒ Ø¯Ø± Ø¯Ø³ØªØ±Ø³ -->
    <div class="section-card mb-5">
        <div class="section-header mb-4">
            <h2 class="section-title">
                <span class="section-icon">ğŸ¯</span>
                Ø³ÙØ§Ø±Ø´Ø§Øª Ø¯Ø± Ø¯Ø³ØªØ±Ø³
            </h2>
            <p class="section-subtitle">Ø¬Ø¯ÛŒØ¯ØªØ±ÛŒÙ† Ø³ÙØ§Ø±Ø´Ø§Øª Ù…Ù†ØªØ¸Ø± Ø´Ù…Ø§ Ù‡Ø³ØªÙ†Ø¯</p>
        </div>

        <div class="row g-4 mb-4">
            {% for order in orders %}
                <div class="col-md-4">
                    <a href="{% url 'core:order_detail' id=order.id %}" class="text-decoration-none">
                        <div class="order-card">
                            <div class="order-faction-badge">
                                {% if order.faction == 'horde' %}
                                    <img src="{% static 'images/horde.png' %}" class="faction-img" alt="Horde">
                                    <span class="faction-name horde">Horde</span>
                                {% else %}
                                    <img src="{% static 'images/alliance.png' %}" class="faction-img" alt="Alliance">
                                    <span class="faction-name alliance">Alliance</span>
                                {% endif %}
                            </div>
                            <div class="order-body">
                                <h5 class="order-title">{{ order.title }}</h5>
                                <div class="order-info">
                                    <div class="info-row">
                                        <span class="info-label">Ù…Ù‚Ø¯Ø§Ø±:</span>
                                        <span class="info-value">{{ order.amount }}</span>
                                    </div>
                                    <div class="info-row">
                                        <span class="info-label">Ø¨Ø§Ù‚ÛŒÙ…Ø§Ù†Ø¯Ù‡:</span>
                                        <span class="info-value highlight">{{ order.rest }}</span>
                                    </div>
                                    <div class="order-status">
                                        <span class="status-badge">{{ order.get_status_display }}</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </a>
                </div>
            {% endfor %}
        </div>

        <div class="text-center">
            <a href="{% url 'core:orders' %}" class="btn btn-view-all">
                Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù‡Ù…Ù‡ Ø³ÙØ§Ø±Ø´Ø§Øª
                <span class="ms-2">â†</span>
            </a>
        </div>
    </div>

    <!-- Ù…Ø­ØµÙˆÙ„Ø§Øª ÙØ±ÙˆØ´Ú¯Ø§Ù‡ -->
    <div class="section-card mb-5">
        <div class="section-header mb-4">
            <h2 class="section-title">
                <span class="section-icon">ğŸ›ï¸</span>
                Ù…Ø­ØµÙˆÙ„Ø§Øª ÙØ±ÙˆØ´Ú¯Ø§Ù‡
            </h2>
            <p class="section-subtitle">Ø¨Ù‡ØªØ±ÛŒÙ† Ù…Ø­ØµÙˆÙ„Ø§Øª Ø¨Ø§ Ù‚ÛŒÙ…Øª Ù…Ù†Ø§Ø³Ø¨</p>
        </div>

        <div class="row g-4">
            {% for product in products %}
                <div class="col-md-3">
                    <a href="{% url 'shop:product_detail' id=product.id %}" class="text-decoration-none">
                        <div class="product-card">
                            {% if product.image %}
                                <div class="product-image">
                                    <img src="{{ product.image.url }}" alt="{{ product.name }}">
                                    <div class="product-overlay">
                                        <span class="view-btn">Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø¬Ø²Ø¦ÛŒØ§Øª</span>
                                    </div>
                                </div>
                            {% else %}
                                <div class="product-image product-no-image">
                                    <span class="no-image-icon">ğŸ“¦</span>
                                </div>
                            {% endif %}
                            <div class="product-body">
                                <h6 class="product-title">{{ product.name }}</h6>
                                <div class="product-price">
                                    <span class="price-value">{{ product.price }}</span>
                                    <span class="price-currency">ØªÙˆÙ…Ø§Ù†</span>
                                </div>
                            </div>
                        </div>
                    </a>
                </div>
            {% endfor %}
        </div>
    </div>

    <!-- Ú©Ø§Ù„ ØªÙˆ Ø§Ú©Ø´Ù† Ù…Ø±Ø¨ÛŒÚ¯Ø±ÛŒ -->
    <div class="cta-section mb-5">
        <div class="cta-content">
            <div class="cta-icon">ğŸ’¼</div>
            <h3 class="cta-title">Ù…Ù‡Ø§Ø±Øª Ø®Ø§ØµÛŒ Ø¯Ø§Ø±ÛŒØ¯ØŸ</h3>
            <p class="cta-text">Ø¨Ù‡ ØªÛŒÙ… Ù…Ø±Ø¨ÛŒØ§Ù† Ù…Ø§ Ø¨Ù¾ÛŒÙˆÙ†Ø¯ÛŒØ¯ Ùˆ Ø¯Ø±Ø¢Ù…Ø¯ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒØ¯</p>
            <a href="{% url 'core:coach_register' %}" class="btn btn-cta">
                Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ù…Ø±Ø¨ÛŒ
                <span class="ms-2">â†’</span>
            </a>
        </div>
    </div>

</div>

<style>
/* Ù‡ÛŒØ±Ùˆ Ø¨Ù†Ø± */
.hero-banner {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-radius: 20px;
    padding: 60px 30px;
    box-shadow: 0 10px 40px rgba(102, 126, 234, 0.3);
    color: white;
}

.hero-title {
    font-size: 2.5rem;
    font-weight: 700;
    text-shadow: 0 2px 10px rgba(0,0,0,0.2);
}

.hero-subtitle {
    font-size: 1.2rem;
    opacity: 0.95;
}

.btn-hero-primary {
    background: white;
    color: #667eea;
    border: none;
    padding: 12px 30px;
    border-radius: 25px;
    font-weight: 600;
    transition: all 0.3s ease;
}

.btn-hero-primary:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 20px rgba(255,255,255,0.3);
    color: #667eea;
}

.btn-hero-secondary {
    background: rgba(255,255,255,0.2);
    color: white;
    border: 2px solid white;
    padding: 12px 30px;
    border-radius: 25px;
    font-weight: 600;
    transition: all 0.3s ease;
}

.btn-hero-secondary:hover {
    background: white;
    color: #667eea;
    transform: translateY(-3px);
}

/* Ø¢Ù…Ø§Ø± Ø³Ø±ÛŒØ¹ */
.stat-card {
    background: white;
    border-radius: 15px;
    padding: 30px 20px;
    text-align: center;
    box-shadow: 0 4px 15px rgba(0,0,0,0.06);
    transition: all 0.3s ease;
}

.stat-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(102, 126, 234, 0.2);
}

.stat-icon {
    font-size: 3rem;
    margin-bottom: 15px;
}

.stat-number {
    font-size: 2rem;
    font-weight: 700;
    color: #667eea;
    margin-bottom: 5px;
}

.stat-label {
    color: #718096;
    font-weight: 500;
}

/* Ú©Ø§Ø±Øª Ø¨Ø®Ø´â€ŒÙ‡Ø§ */
.section-card {
    background: white;
    border-radius: 20px;
    padding: 40px 30px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.06);
}

.section-header {
    text-align: center;
}

.section-title {
    font-size: 1.8rem;
    font-weight: 700;
    color: #2d3748;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
}

.section-icon {
    font-size: 2rem;
}

.section-subtitle {
    color: #718096;
    font-size: 1rem;
    margin-top: 10px;
}

/* Ú©Ø§Ø±Øª Ø³ÙØ§Ø±Ø´ */
.order-card {
    background: white;
    border-radius: 15px;
    overflow: hidden;
    box-shadow: 0 4px 15px rgba(0,0,0,0.08);
    transition: all 0.3s ease;
    border: 2px solid transparent;
}

.order-card:hover {
    transform: translateY(-8px);
    box-shadow: 0 12px 30px rgba(102, 126, 234, 0.2);
    border-color: #667eea;
}

.order-faction-badge {
    background: linear-gradient(135deg, #f5f7fa 0%, #e8eef5 100%);
    padding: 20px;
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
}

.faction-img {
    max-height: 70px;
    filter: drop-shadow(0 2px 8px rgba(0,0,0,0.1));
}

.faction-name {
    font-weight: 700;
    font-size: 0.9rem;
    padding: 5px 15px;
    border-radius: 20px;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.faction-name.horde {
    background: #dc3545;
    color: white;
}

.faction-name.alliance {
    background: #0d6efd;
    color: white;
}

.order-body {
    padding: 20px;
}

.order-title {
    font-size: 1.1rem;
    font-weight: 700;
    color: #2d3748;
    margin-bottom: 15px;
}

.order-info {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.info-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 8px 0;
    border-bottom: 1px solid #e2e8f0;
}

.info-label {
    color: #718096;
    font-weight: 500;
}

.info-value {
    color: #2d3748;
    font-weight: 600;
}

.info-value.highlight {
    color: #667eea;
    font-size: 1.1rem;
}

.order-status {
    margin-top: 15px;
    text-align: center;
}

.status-badge {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 8px 20px;
    border-radius: 20px;
    font-size: 0.85rem;
    font-weight: 600;
    display: inline-block;
}

/* Ú©Ø§Ø±Øª Ù…Ø­ØµÙˆÙ„ */
.product-card {
    background: white;
    border-radius: 15px;
    overflow: hidden;
    box-shadow: 0 4px 15px rgba(0,0,0,0.08);
    transition: all 0.3s ease;
    border: 2px solid transparent;
}

.product-card:hover {
    transform: translateY(-8px);
    box-shadow: 0 12px 30px rgba(102, 126, 234, 0.2);
    border-color: #667eea;
}

.product-image {
    position: relative;
    overflow: hidden;
    height: 200px;
    background: linear-gradient(135deg, #f5f7fa 0%, #e8eef5 100%);
}

.product-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s ease;
}

.product-card:hover .product-image img {
    transform: scale(1.1);
}

.product-no-image {
    display: flex;
    align-items: center;
    justify-content: center;
}

.no-image-icon {
    font-size: 4rem;
    opacity: 0.3;
}

.product-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(102, 126, 234, 0.9);
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.product-card:hover .product-overlay {
    opacity: 1;
}

.view-btn {
    color: white;
    font-weight: 600;
    padding: 10px 25px;
    border: 2px solid white;
    border-radius: 25px;
}

.product-body {
    padding: 20px;
}

.product-title {
    font-size: 1rem;
    font-weight: 700;
    color: #2d3748;
    margin-bottom: 12px;
    min-height: 48px;
}

.product-price {
    display: flex;
    align-items: baseline;
    gap: 5px;
    justify-content: center;
}

.price-value {
    font-size: 1.5rem;
    font-weight: 700;
    color: #667eea;
}

.price-currency {
    color: #718096;
    font-size: 0.9rem;
}

/* Ø¯Ú©Ù…Ù‡ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù‡Ù…Ù‡ */
.btn-view-all {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border: none;
    padding: 12px 35px;
    border-radius: 25px;
    font-weight: 600;
    transition: all 0.3s ease;
    display: inline-flex;
    align-items: center;
}

.btn-view-all:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
    color: white;
}

/* Ú©Ø§Ù„ ØªÙˆ Ø§Ú©Ø´Ù† */
.cta-section {
    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    border-radius: 20px;
    padding: 50px 30px;
    text-align: center;
    box-shadow: 0 10px 40px rgba(245, 87, 108, 0.3);
}

.cta-icon {
    font-size: 4rem;
    margin-bottom: 20px;
}

.cta-title {
    color: white;
    font-size: 2rem;
    font-weight: 700;
    margin-bottom: 15px;
}

.cta-text {
    color: rgba(255,255,255,0.95);
    font-size: 1.1rem;
    margin-bottom: 25px;
}

.btn-cta {
    background: white;
    color: #f5576c;
    border: none;
    padding: 14px 35px;
    border-radius: 25px;
    font-weight: 700;
    font-size: 1.1rem;
    transition: all 0.3s ease;
    display: inline-flex;
    align-items: center;
}

.btn-cta:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 20px rgba(255,255,255,0.4);
    color: #f5576c;
}

/* Ø±ÛŒØ³Ù¾Ø§Ù†Ø³ÛŒÙˆ */
@media (max-width: 768px) {
    .hero-title {
        font-size: 1.8rem;
    }

    .hero-subtitle {
        font-size: 1rem;
    }

    .section-title {
        font-size: 1.5rem;
    }

    .cta-title {
        font-size: 1.5rem;
    }
}
</style>

{% endblock %}